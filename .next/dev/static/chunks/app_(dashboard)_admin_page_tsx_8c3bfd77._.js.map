{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/vs%20code/antigravity%20related%20test%20projects/react%20dashboard%20project/admin-dashboard-type2/app/%28dashboard%29/admin/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Table, Button, Tag, Card, Typography, App, Space, Row, Col, Statistic } from 'antd';\r\nimport { ReloadOutlined, ArrowUpOutlined, ArrowDownOutlined, CheckCircleOutlined, ClockCircleOutlined, UserOutlined } from '@ant-design/icons';\r\nimport { useRouter } from 'next/navigation';\r\nimport { \r\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, \r\n  PieChart, Pie, Cell, AreaChart, Area \r\n} from 'recharts';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\ninterface User {\r\n  id: string;\r\n  email: string;\r\n  role: string;\r\n  status: string;\r\n  created_at: string;\r\n}\r\n\r\n// Mock Data for Charts\r\nconst dataGrowth = [\r\n  { name: 'Mon', users: 4 },\r\n  { name: 'Tue', users: 7 },\r\n  { name: 'Wed', users: 5 },\r\n  { name: 'Thu', users: 12 },\r\n  { name: 'Fri', users: 8 },\r\n  { name: 'Sat', users: 16 },\r\n  { name: 'Sun', users: 24 },\r\n];\r\n\r\nconst COLORS = ['#6C5DD3', '#FF754C', '#FFCD1A'];\r\n\r\nexport default function AdminDashboard() {\r\n  const router = useRouter();\r\n  const { message } = App.useApp();\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetch('/api/admin/users');\r\n      if (res.status === 401 || res.status === 403) {\r\n        router.push('/login');\r\n        return;\r\n      }\r\n      if (!res.ok) throw new Error('Failed to fetch users');\r\n      const data = await res.json();\r\n      setUsers(data);\r\n    } catch (error) {\r\n      console.error(error);\r\n      message.error('Failed to load users');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // Derived Statistics\r\n  const totalUsers = users.length;\r\n  const activeUsers = users.filter(u => u.status === 'approved').length;\r\n  const pendingUsers = users.filter(u => u.status === 'pending').length;\r\n\r\n  const statusData = [\r\n      { name: 'Active', value: activeUsers },\r\n      { name: 'Pending', value: pendingUsers },\r\n  ];\r\n\r\n  return (\r\n    <div style={{ minHeight: '100vh' }}>\r\n      <Row gutter={[24, 24]}>\r\n        {/* Stats Cards */}\r\n        <Col xs={24} sm={8}>\r\n          <Card className=\"glass-card animate-fade-up delay-100\" variant=\"borderless\">\r\n            <Statistic \r\n                title={<Text type=\"secondary\">Total Users</Text>} \r\n                value={totalUsers} \r\n                prefix={<UserOutlined style={{ color: '#6C5DD3' }} />}\r\n                styles={{ content: { color: 'white', fontWeight: 700 } }}\r\n            />\r\n            <div style={{ marginTop: 8 }}>\r\n                 <Text style={{ color: '#75FF75', fontSize: 12 }}><ArrowUpOutlined /> 12% </Text>\r\n                 <Text type=\"secondary\" style={{ fontSize: 12 }}> vs last month</Text>\r\n            </div>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={8}>\r\n          <Card className=\"glass-card animate-fade-up delay-200\" variant=\"borderless\">\r\n             <Statistic \r\n                title={<Text type=\"secondary\">Active Users</Text>} \r\n                value={activeUsers} \r\n                prefix={<CheckCircleOutlined style={{ color: '#75FF75' }} />}\r\n                styles={{ content: { color: 'white', fontWeight: 700 } }}\r\n            />\r\n             <div style={{ marginTop: 8 }}>\r\n                 <Text style={{ color: '#75FF75', fontSize: 12 }}><ArrowUpOutlined /> 5% </Text>\r\n                 <Text type=\"secondary\" style={{ fontSize: 12 }}> vs last month</Text>\r\n            </div>\r\n          </Card>\r\n        </Col>\r\n        <Col xs={24} sm={8}>\r\n          <Card className=\"glass-card animate-fade-up delay-300\" variant=\"borderless\">\r\n            <Statistic \r\n                title={<Text type=\"secondary\">Pending Approval</Text>} \r\n                value={pendingUsers} \r\n                prefix={<ClockCircleOutlined style={{ color: '#FF754C' }} />}\r\n                styles={{ content: { color: 'white', fontWeight: 700 } }}\r\n            />\r\n            <div style={{ marginTop: 8 }}>\r\n                 <Text style={{ color: '#FF754C', fontSize: 12 }}><ArrowDownOutlined /> 2% </Text>\r\n                 <Text type=\"secondary\" style={{ fontSize: 12 }}> vs last month</Text>\r\n            </div>\r\n          </Card>\r\n        </Col>\r\n\r\n        {/* Charts Section */}\r\n        <Col xs={24} lg={16} className=\"animate-fade-up delay-400\">\r\n            <Card variant=\"borderless\" className=\"glass-card\" title={<Title level={4} style={{ color: 'white', margin: 0 }}>User Growth</Title>}>\r\n                <div style={{ height: 300, width: '100%' }}>\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <AreaChart data={dataGrowth}>\r\n                            <defs>\r\n                                <linearGradient id=\"colorUsers\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                                    <stop offset=\"5%\" stopColor=\"#6C5DD3\" stopOpacity={0.8}/>\r\n                                    <stop offset=\"95%\" stopColor=\"#6C5DD3\" stopOpacity={0}/>\r\n                                </linearGradient>\r\n                            </defs>\r\n                            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#272B30\" vertical={false} />\r\n                            <XAxis dataKey=\"name\" stroke=\"#808191\" axisLine={false} tickLine={false} />\r\n                            <YAxis stroke=\"#808191\" axisLine={false} tickLine={false} />\r\n                            <Tooltip \r\n                                contentStyle={{ backgroundColor: '#1A1D1F', border: '1px solid #272B30', borderRadius: 8 }}\r\n                                itemStyle={{ color: 'white' }}\r\n                            />\r\n                            <Area type=\"monotone\" dataKey=\"users\" stroke=\"#6C5DD3\" strokeWidth={3} fillOpacity={1} fill=\"url(#colorUsers)\" />\r\n                        </AreaChart>\r\n                    </ResponsiveContainer>\r\n                </div>\r\n            </Card>\r\n        </Col>\r\n        <Col xs={24} lg={8} className=\"animate-fade-up delay-500\">\r\n             <Card variant=\"borderless\" className=\"glass-card\" title={<Title level={4} style={{ color: 'white', margin: 0 }}>User Status</Title>}>\r\n                <div style={{ height: 300, width: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n                        <PieChart>\r\n                            <Pie\r\n                                data={statusData}\r\n                                innerRadius={80}\r\n                                outerRadius={100}\r\n                                paddingAngle={5}\r\n                                dataKey=\"value\"\r\n                                stroke=\"none\"\r\n                            >\r\n                                {statusData.map((entry, index) => (\r\n                                    <Cell key={`cell-${index}`} fill={index === 0 ? '#75FF75' : '#FF754C'} />\r\n                                ))}\r\n                            </Pie>\r\n                            <Tooltip \r\n                                contentStyle={{ backgroundColor: '#1A1D1F', border: '1px solid #272B30', borderRadius: 8 }}\r\n                                itemStyle={{ color: 'white' }}\r\n                            />\r\n                            <text x=\"50%\" y=\"50%\" textAnchor=\"middle\" dominantBaseline=\"middle\">\r\n                                <tspan x=\"50%\" dy=\"-1em\" fontSize=\"14\" fill=\"#808191\">Total</tspan>\r\n                                <tspan x=\"50%\" dy=\"1.5em\" fontSize=\"24\" fontWeight=\"bold\" fill=\"white\">{totalUsers}</tspan>\r\n                            </text>\r\n                        </PieChart>\r\n                    </ResponsiveContainer>\r\n                </div>\r\n                 <div style={{ display: 'flex', justifyContent: 'center', gap: 24, marginTop: -20 }}>\r\n                     <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                         <div style={{ width: 8, height: 8, borderRadius: '50%', background: '#75FF75' }} />\r\n                         <Text style={{ color: '#808191' }}>Active</Text>\r\n                     </div>\r\n                     <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\r\n                         <div style={{ width: 8, height: 8, borderRadius: '50%', background: '#FF754C' }} />\r\n                         <Text style={{ color: '#808191' }}>Pending</Text>\r\n                     </div>\r\n                 </div>\r\n            </Card>\r\n        </Col>\r\n\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}