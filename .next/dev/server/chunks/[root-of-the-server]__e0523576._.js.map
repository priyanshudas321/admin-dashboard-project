{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///E:/vs%20code/antigravity%20related%20test%20projects/react%20dashboard%20project/admin-dashboard-type2/app/lib/youtubeTranscript.ts"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport async function getYouTubeTranscript(videoId: string): Promise<string> {\r\n  try {\r\n    const response = await axios.get(\r\n      `https://youtubetranscript.com/?server=wsrv.nl&video_id=${videoId}`\r\n    );\r\n    \r\n    const data = response.data as { transcript?: string };\r\n    \r\n    if (data && data.transcript) {\r\n      return data.transcript;\r\n    }\r\n    \r\n    throw new Error('No transcript found');\r\n  } catch (error) {\r\n    console.error('Transcript fetch error:', error);\r\n    throw new Error('Failed to fetch transcript. The video might not have captions.');\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,qBAAqB,OAAe;IACxD,IAAI;QACF,MAAM,WAAW,MAAM,kJAAK,CAAC,GAAG,CAC9B,CAAC,uDAAuD,EAAE,SAAS;QAGrE,MAAM,OAAO,SAAS,IAAI;QAE1B,IAAI,QAAQ,KAAK,UAAU,EAAE;YAC3B,OAAO,KAAK,UAAU;QACxB;QAEA,MAAM,IAAI,MAAM;IAClB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 153, "column": 0}, "map": {"version":3,"sources":["file:///E:/vs%20code/antigravity%20related%20test%20projects/react%20dashboard%20project/admin-dashboard-type2/app/lib/geminiAI.ts"],"sourcesContent":["import { GoogleGenerativeAI } from '@google/generative-ai';\r\n\r\n// This reads from environment variables - NEVER hardcode API keys\r\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY || '');\r\n\r\nexport async function summarizeWithGemini(text: string): Promise<string> {\r\n  try {\r\n    const model = genAI.getGenerativeModel({ model: 'gemini-pro' });\r\n    \r\n    // Truncate text to avoid token limits if necessary, though simpler here\r\n    const prompt = `Please summarize this YouTube video transcript in 3-5 bullet points:\r\n    \r\n    ${text.substring(0, 5000)}\r\n    \r\n    Summary:`;\r\n    \r\n    const result = await model.generateContent(prompt);\r\n    const response = await result.response;\r\n    return response.text();\r\n  } catch (error) {\r\n    console.error('Gemini API error:', error);\r\n    throw new Error('Failed to generate summary with AI');\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,kEAAkE;AAClE,MAAM,QAAQ,IAAI,sLAAkB,CAAC,QAAQ,GAAG,CAAC,cAAc,IAAI;AAE5D,eAAe,oBAAoB,IAAY;IACpD,IAAI;QACF,MAAM,QAAQ,MAAM,kBAAkB,CAAC;YAAE,OAAO;QAAa;QAE7D,wEAAwE;QACxE,MAAM,SAAS,CAAC;;IAEhB,EAAE,KAAK,SAAS,CAAC,GAAG,MAAM;;YAElB,CAAC;QAET,MAAM,SAAS,MAAM,MAAM,eAAe,CAAC;QAC3C,MAAM,WAAW,MAAM,OAAO,QAAQ;QACtC,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,qBAAqB;QACnC,MAAM,IAAI,MAAM;IAClB;AACF"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///E:/vs%20code/antigravity%20related%20test%20projects/react%20dashboard%20project/admin-dashboard-type2/app/api/summarize/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { getYouTubeTranscript } from '@/app/lib/youtubeTranscript';\r\nimport { summarizeWithGemini } from '@/app/lib/geminiAI';\r\n\r\nexport async function POST(request: Request) {\r\n  try {\r\n    const { videoId } = await request.json();\r\n\r\n    if (!videoId) {\r\n      return NextResponse.json(\r\n        { error: 'Video ID is required' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    // Check if Gemini API key is configured\r\n    if (!process.env.GEMINI_API_KEY) {\r\n      return NextResponse.json(\r\n        { error: 'Gemini API key not configured. Please add GEMINI_API_KEY to environment variables.' },\r\n        { status: 500 }\r\n      );\r\n    }\r\n\r\n    // Get transcript\r\n    const transcript = await getYouTubeTranscript(videoId);\r\n    \r\n    // Generate AI summary\r\n    const summary = await summarizeWithGemini(transcript);\r\n    \r\n    return NextResponse.json({ \r\n      summary,\r\n      transcript_length: transcript.length\r\n    });\r\n    \r\n  } catch (error: any) {\r\n    console.error('Summarization error:', error);\r\n    return NextResponse.json(\r\n      { \r\n        error: error.message || 'Failed to summarize video',\r\n        details: 'The video might not have captions or the API key might be invalid'\r\n      },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEtC,IAAI,CAAC,SAAS;YACZ,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,wCAAwC;QACxC,IAAI,CAAC,QAAQ,GAAG,CAAC,cAAc,EAAE;YAC/B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAqF,GAC9F;gBAAE,QAAQ;YAAI;QAElB;QAEA,iBAAiB;QACjB,MAAM,aAAa,MAAM,IAAA,yJAAoB,EAAC;QAE9C,sBAAsB;QACtB,MAAM,UAAU,MAAM,IAAA,+IAAmB,EAAC;QAE1C,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB;YACA,mBAAmB,WAAW,MAAM;QACtC;IAEF,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,OAAO,MAAM,OAAO,IAAI;YACxB,SAAS;QACX,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}